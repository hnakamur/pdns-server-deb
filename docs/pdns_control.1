.TH "PDNS_CONTROL" "1" "December 2002" "" ""
.SH NAME
.PP
\f[B]pdns_control\f[] \- Control the PowerDNS nameserver
.SH SYNOPSIS
.PP
\f[B]pdns_control\f[] [\f[I]OPTION\f[]]...
\f[I]COMMAND\f[]
.SH DESCRIPTION
.PP
\f[B]pdns_control\f[] is used to send commands to a running PowerDNS
nameserver.
.SH OPTIONS
.TP
.B \-\-help
Show summary of options.
.RS
.RE
.TP
.B \-\-chroot=\f[I]DIR\f[]
Directory where PowerDNS is chrooted.
.RS
.RE
.TP
.B \-\-config\-dir=\f[I]DIR\f[]
Location of configuration directory (pdns.conf).
.RS
.RE
.TP
.B \-\-config\-name=\f[I]NAME\f[]
Name of this virtual configuration \- will rename the binary image.
.RS
.RE
.TP
.B \-\-remote\-address=\f[I]ADDRESS\f[]
Remote address to query.
.RS
.RE
.TP
.B \-\-remote\-port=\f[I]PORT\f[]
Remote port to query.
.RS
.RE
.TP
.B \-\-secret=\f[I]SECRET\f[]
Secret needed to connect to remote PowerDNS.
.RS
.RE
.TP
.B \-\-socket\-dir=\f[I]DIR\f[]
Where the controlsocket lives.
.RS
.RE
.SH COMMANDS
.TP
.B bind\-add\-zone \f[I]DOMAIN\f[] \f[I]FILENAME\f[]
When using the bindbackend, add a zone.
This zone is added in\-memory and served immediately.
Note that this does not add the zone to the bind\-config file.
\f[I]FILENAME\f[] must be an absolute path.
.RS
.RE
.TP
.B bind\-domain\-status [\f[I]DOMAIN\f[]...]
When using the bindbackend, list status of all domains.
Optionally, append \f[I]DOMAIN\f[]s to get the status of specific zones.
.RS
.RE
.TP
.B bind\-list\-rejects
When using the bindbackend, get a list of all rejected domains.
.RS
.RE
.TP
.B bind\-reload\-now \f[I]DOMAIN\f[] [\f[I]DOMAIN\f[]...]
When using the bindbackend, immediately reload \f[I]DOMAIN\f[] from
disk.
.RS
.RE
.TP
.B ccounts
Show the content of the cache.
.RS
.RE
.TP
.B current\-config
Show the currently running configuration.
The output has the same format as \f[C]pdns_server\ \-\-config\f[].
You\[aq]ll notice that all the are uncommented.
This is because PowerDNS simply has values, and the default isn\[aq]t
known at runtime.
.RS
.RE
.TP
.B cycle
Restart the nameserver so it reloads its configuration.
Only works when the server is running in guardian mode.
.RS
.RE
.TP
.B list
Dump all variables and their values in a comma separated list,
equivalent to \f[B]show *\f[].
.RS
.RE
.TP
.B list\-zones [master,slave,native]
Show a list of zones, optionally filter on the type of zones to show.
.RS
.RE
.TP
.B notify \f[I]DOMAIN\f[]
Adds \f[I]DOMAIN\f[] to the notification list, causing PowerDNS to send
out notifications to the nameservers of a domain.
Can be used if a slave missed previous notifications or is generally
hard of hearing.
.RS
.RE
.TP
.B notify\-host \f[I]DOMAIN\f[] \f[I]ADDRESS\f[]
Same as above but with operator specified IP \f[I]ADDRESS\f[] as
destination, to be used if you know better than PowerDNS.
.RS
.RE
.TP
.B ping, rping
Check if the server is still alive.
Will return \[aq]PONG\[aq] when it is.
\f[B]ping\f[] works when running inside a guardian, whereas
\f[B]rping\f[] works when running without a guardian.
.RS
.RE
.TP
.B purge [\f[I]RECORD\f[]]
Purge entries from the cache.
If \f[I]RECORD\f[] ends with a dollar ($) all entries that end with that
name are removed.
If no record is specified the entire cache is purged.
.RS
.RE
.TP
.B qtypes
Get a count of queries per qtype on standard out.
.RS
.RE
.TP
.B quit
Tell a running pdns_server to quit.
.RS
.RE
.TP
.B rediscover
Instructs backends that new domains may have appeared in the database,
or, in the case of the Bind backend, in named.conf.
.RS
.RE
.TP
.B reload
Instruct the server to reload all its zones, this will not add new
zones.
.RS
.RE
.TP
.B remotes
Get the top number of remote addresses (clients).
.RS
.RE
.TP
.B respsizes
Get a histogram of the response sizes.
.RS
.RE
.TP
.B retrieve \f[I]DOMAIN\f[]
Retrieve slave \f[I]DOMAIN\f[] from its master.
Done nearly immediately.
.RS
.RE
.TP
.B set \f[I]VARIABLE\f[] \f[I]VALUE\f[]
Set the configuration parameter \f[I]VARIABLE\f[] to \f[I]VALUE\f[].
Currently only the query\-logging can be set.
.RS
.RE
.TP
.B show \f[I]VARIABLE\f[]
Show a single statistic, as present in the output of the list command.
.RS
.RE
.TP
.B status
Show usage statistics.
This only works if the server is running in guardian mode.
.RS
.RE
.TP
.B token\-login \f[I]MODULE\f[] \f[I]SLOT\f[] \f[I]PIN\f[]
Log on to a PKCS#11 slot.
You only need to login once per slot, even if you have multiple keys on
single slot.
Only available if PowerDNS was compiled with PKCS#11 support.
.RS
.RE
.TP
.B uptime
Show the uptime of the running server.
.RS
.RE
.TP
.B version
Print the version of the running pdns daemon.
.RS
.RE
.SH SEE ALSO
.PP
pdns_server(1)
.SH AUTHORS
PowerDNS.com BV.
